{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport { useEffect } from \"react\";\nimport { Text, View } from \"../components/Themed\";\nimport storage from \"@react-native-firebase/storage\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CreateScreen() {\n  useEffect(function () {\n    (function _callee() {\n      var _await$ImagePicker$re, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(Platform.OS !== \"web\")) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n            case 3:\n              _await$ImagePicker$re = _context.sent;\n              status = _await$ImagePicker$re.status;\n\n              if (status !== \"granted\") {\n                alert(\"Sorry, we need camera roll permissions to make this work!\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var openCamera = function _callee2() {\n    var permissionResult, result, fileName, reference;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());\n\n          case 2:\n            permissionResult = _context2.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context2.next = 6;\n              break;\n            }\n\n            alert(\"You've refused to allow this appp to access your camera!\");\n            return _context2.abrupt(\"return\");\n\n          case 6:\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              allowsEditing: true,\n              aspect: [16, 9],\n              quality: 1\n            }));\n\n          case 8:\n            result = _context2.sent;\n\n            if (result.cancelled) {\n              _context2.next = 15;\n              break;\n            }\n\n            console.log(result.uri);\n            fileName = result.uri.split(\"/\").pop();\n            reference = storage().ref(\"/images/\" + fileName);\n            _context2.next = 15;\n            return _regeneratorRuntime.awrap(reference.putFile(result.uri));\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var pickImage = function _callee3() {\n    var result, fileName, reference;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [16, 9],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context3.sent;\n\n            if (result.cancelled) {\n              _context3.next = 9;\n              break;\n            }\n\n            console.log(result.uri);\n            fileName = result.uri.split(\"/\").pop();\n            reference = storage().ref(\"/images/\" + fileName);\n            _context3.next = 9;\n            return _regeneratorRuntime.awrap(reference.putFile(result.uri));\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      backgroundColor: \"#fff\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [_jsx(TouchableHighlight, {\n      onPress: pickImage,\n      children: _jsx(Text, {\n        children: \"select image\"\n      })\n    }), _jsx(TouchableHighlight, {\n      onPress: openCamera,\n      children: _jsx(Text, {\n        children: \"open camera\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30\n  },\n  wrapper: {\n    flexDirection: \"row\",\n    backgroundColor: \"#f6f8fa\",\n    color: \"green\"\n  },\n  title: {\n    backgroundColor: \"#f6f8fa\",\n    fontWeight: \"bold\"\n  },\n  row: {\n    height: 28\n  },\n  text: {\n    textAlign: \"center\"\n  },\n  aboutTitle: {\n    color: \"red\",\n    fontSize: 20,\n    borderBottomColor: \"gray\",\n    borderBottomWidth: 3,\n    marginTop: 20,\n    fontWeight: \"bold\"\n  },\n  aboutBody: {\n    marginTop: 5\n  }\n});","map":{"version":3,"names":["useEffect","Text","View","storage","ImagePicker","CreateScreen","Platform","OS","requestMediaLibraryPermissionsAsync","status","alert","openCamera","requestCameraPermissionsAsync","permissionResult","granted","launchCameraAsync","allowsEditing","aspect","quality","result","cancelled","console","log","uri","fileName","split","pop","reference","ref","putFile","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","flex","backgroundColor","alignItems","justifyContent","styles","StyleSheet","create","container","padding","paddingTop","wrapper","flexDirection","color","title","fontWeight","row","height","text","textAlign","aboutTitle","fontSize","borderBottomColor","borderBottomWidth","marginTop","aboutBody"],"sources":["C:/Users/alija/Documents/react-native/Supermarket/screens/CreateScreen.tsx"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport {\n  Platform,\n  StyleSheet,\n  Image,\n  Button,\n  ScrollView,\n  RefreshControl,\n  TouchableHighlight,\n} from \"react-native\";\nimport { useEffect, useState } from \"react\";\n\nimport { Text, View } from \"../components/Themed\";\nimport firestore from \"@react-native-firebase/firestore\";\nimport storage from \"@react-native-firebase/storage\";\nimport * as ImagePicker from \"expo-image-picker\";\n\nexport default function CreateScreen() {\n  useEffect(() => {\n    (async () => {\n      if (Platform.OS !== \"web\") {\n        const { status } =\n          await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== \"granted\") {\n          alert(\"Sorry, we need camera roll permissions to make this work!\");\n        }\n      }\n    })();\n  }, []);\n\n  const openCamera = async () => {\n    // Ask the user for the permission to access the camera\n    const permissionResult = await ImagePicker.requestCameraPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"You've refused to allow this appp to access your camera!\");\n      return;\n    }\n\n    const result = await ImagePicker.launchCameraAsync({\n      allowsEditing: true,\n      aspect: [16, 9],\n      quality: 1,\n    });\n\n    if (!result.cancelled) {\n      console.log(result.uri);\n      const fileName = result.uri.split(\"/\").pop();\n      const reference = storage().ref(`/images/${fileName}`);\n      await reference.putFile(result.uri);\n    }\n  };\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsEditing: true,\n      aspect: [16, 9],\n      quality: 1,\n    });\n\n    if (!result.cancelled) {\n      console.log(result.uri);\n      const fileName = result.uri.split(\"/\").pop();\n      const reference = storage().ref(`/images/${fileName}`);\n      await reference.putFile(result.uri);\n    }\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: \"#fff\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <TouchableHighlight onPress={pickImage}>\n        <Text>select image</Text>\n      </TouchableHighlight>\n      <TouchableHighlight onPress={openCamera}>\n        <Text>open camera</Text>\n      </TouchableHighlight>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16, paddingTop: 30 },\n  wrapper: {\n    flexDirection: \"row\",\n    backgroundColor: \"#f6f8fa\",\n    color: \"green\",\n  },\n  title: { backgroundColor: \"#f6f8fa\", fontWeight: \"bold\" },\n  row: { height: 28 },\n  text: { textAlign: \"center\" },\n  aboutTitle: {\n    color: \"red\",\n    fontSize: 20,\n    borderBottomColor: \"gray\",\n    borderBottomWidth: 3,\n    marginTop: 20,\n    fontWeight: \"bold\",\n  },\n  aboutBody: {\n    marginTop: 5,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}